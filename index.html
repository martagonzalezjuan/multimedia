<!DOCTYPE html>
<html lang="zxx" class="no-js">

<head>
  <!-- Mobile Specific Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Favicon-->
  <link rel="shortcut icon" href="img/fav.png" />
  <!-- Author Meta -->
  <meta name="author" content="7Maravillas" />
  <!-- Meta Description -->
  <meta name="description" content="" />
  <!-- Meta Keyword -->
  <meta name="keywords" content="" />
  <!-- meta character set -->
  <meta charset="UTF-8" />
  <!-- Site Title -->
  <title>7 Maravillas de Mallorca</title>
  <!-- CSS Propio -->
  <link rel="stylesheet" href="/public/css/searchbar.css" />
  <!-- JS Propios -->
  <script src="/public/libs/maravillas_api.js"></script>
  <script src="/public/libs/lector_api.js"></script>
  <script src="/public/libs/geo_api.js"></script>
  <script src="/public/libs/forecast_api.js"></script>
  <!-- Librerias externas -->
   <!-- Leaflet -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
   <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <!-- JS files -->
  <script>function initializeOwlCarousel() {
    // Destruir cualquier instancia anterior de Owl Carousel en el contenedor
    $('.active-works-carousel').trigger('destroy.owl.carousel').removeClass('owl-loaded');
  
    // Re-inicializar el carousel
    $('.active-works-carousel').owlCarousel({
      items: 1, // o la configuraci√≥n que necesites
      loop: true,
      margin: 10,
      nav: false,
      autoplay: true,
      autoplayTimeout: 5000,
      autoplayHoverPause: true
    });
  }
  </script>

  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet" />
  <!--
			CSS
			============================================= -->
  <link rel="stylesheet" href="css/linearicons.css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" />
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/magnific-popup.css" />
  <!-- <link rel="stylesheet" href="css/animate.min.css" /> -->
  <link rel="stylesheet" href="css/owl.carousel.css" />
  <link rel="stylesheet" href="css/main.css" />
</head>

<body>
  <!-- start banner Area -->
  <section class="banner-area" id="home">
    <!-- Start Header Area -->
    <header class="default-header">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container">
          <a class="navbar-brand" href="index.html">
            <img src="img/logo.png" alt="" />
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="text-white lnr lnr-menu"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarSupportedContent">
            <ul class="navbar-nav">
              <li><a href="#home">Inicio</a></li>
              <li><a href="#about">Sobre Nosotros</a></li>
              <li><a href="#contact">Contacto</a></li>            
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- End Header Area -->
  </section>
  <section class="slider-wrapper">
    <!-- Search bar with autocomplete -->
    <div class="search-bar-container">
      <div class="search-bar">
        <input type="text" id="maravillas-input" class="search-input" list="maravillas-list" placeholder="Buscar..." />
        <button class="search-button">
          <i class="fa fa-search"></i>
        </button>
        
        
    </div>
    <div id="suggestions" class="suggestions-container"></div>
    </div>
    <script>
document.addEventListener('DOMContentLoaded', async function() {
  const searchInput = document.getElementById('maravillas-input');
  const suggestionsContainer = document.getElementById('suggestions');

  try {
    const maravillas = await getMaravillas(); // usando maravillas_api.js

    searchInput.addEventListener('input', function(e) {
      const value = e.target.value.toLowerCase();
      suggestionsContainer.innerHTML = '';

      if (value.length > 0) {
        const filteredMaravillas = maravillas.filter(maravilla => 
          maravilla.name.toLowerCase().includes(value)
        );

        if (filteredMaravillas.length > 0) {
          suggestionsContainer.style.display = 'block';
          filteredMaravillas.forEach(maravilla => {
            const div = document.createElement('div');
            div.className = 'suggestion-item';
            div.textContent = maravilla.name;
            div.addEventListener('click', () => {
              searchInput.value = maravilla.name;
              suggestionsContainer.style.display = 'none';
            });
            suggestionsContainer.appendChild(div);
          });
        } else {
          suggestionsContainer.style.display = 'none';
        }
      } else {
        suggestionsContainer.style.display = 'none';
      }
    });

    document.addEventListener('click', function(e) {
      if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
        suggestionsContainer.style.display = 'none';
      }
    });
  } catch (error) {
    console.error("Error cargando las maravillas:", error);
  }
});
</script>

    <section class="default-banner active-blog-slider">
      <div class="item-slider relative" style="background: url(img/slider1.jpg); background-size: cover">
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Castillo de Bellver</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative" style="background: url(img/slider2.jpg); background-size: cover">
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Sa Calobra</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative" style="background: url(img/slider3.jpg); background-size: cover">
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Sa Foradada</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative" style="background: url(img/slider4.jpg); background-size: cover">
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">La catedral</h1>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>

  <!-- Start project Area -->

  </div>
  <section class="project-area section-gap" id= "seccion-maravilla" style="visibility: hidden; display: none;"> </section>

  <script>

  const searchInput = document.querySelector('.search-input');
  const searchButton = document.querySelector('.search-button');

searchButton.addEventListener('click', async () => {
  const searchText = searchInput.value.trim();
  const seccionMaravilla = document.getElementById('seccion-maravilla');
  
  try {
    const maravilla = await getMaravillasByName(searchText);
    
    seccionMaravilla.style.visibility = 'visible';
    seccionMaravilla.style.display = 'block';

    const template = `
      <div class="container">
        <div class="row d-flex justify-content-center">
          <div class="menu-content pb-30 col-lg-8">
            <div class="title text-center">
              <h1 class="mb-10" id="nombreMaravilla">${maravilla.name}</h1>
              <p id="descripcion">${maravilla.description}</p>
            </div>
          </div>
        </div>
        <div class="row justify-content-center d-flex">
          <div class="active-works-carousel mt-40 col-lg-8">
            ${maravilla.image.map((img, index) => `
              <div class="item">
                <img class="img-fluid" src="${img}" alt="${maravilla.name} - Imagen ${index + 1}" />
                <div class="caption text-center mt-20">
                  <h6 class="text-uppercase">Foto ${index + 1}</h6>
                  <p>Imagen ${index + 1} de ${maravilla.name}</p>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>

      <div id="seccion-mapa" style="display: flex; justify-content: center; align-items: center; margin-top: 2vh; margin-bottom: 2vh;">
        <div id="map" style="width: 75%; height: min(50vh, 400px);"></div>
      </div>
    `;
    
    seccionMaravilla.innerHTML = template;
    

    setTimeout(() => {
      initializeOwlCarousel();
    }, 100);

    crearMapa(
      document.getElementById('map'),
      maravilla.geo.latitude,
      maravilla.geo.longitude,
      maravilla.name
    );
    
    seccionMaravilla.scrollIntoView({ behavior: 'smooth' });

  } catch (error) {
    console.error("Error:", error);
    seccionMaravilla.innerHTML = '<div class="container"><div class="row"><div class="col text-center"><h2>Maravilla no encontrada</h2></div></div></div>';
  }
});

  
</script>
  <!-- End project Area -->

  <!-- Start gallery Area -->
  <section class="gallery-area" id="gallery">
    <div class="container-fluid">
      <div class="row no-padding">
        <div class="active-gallery">
          <div class="item single-gallery">
            <img src="img/g1.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g2.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g3.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g4.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g5.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g6.jpg" alt="" />
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End gallery Area -->

  <!-- Start Video Area -->
  <section class="video-area pt-40 pb-40">
    <div class="overlay overlay-bg"></div>
    <div class="container">
      <div class="video-content">
        <a href="http://www.youtube.com/watch?v=0O2aH4XLbto" class="play-btn"><img src="img/play-btn.png" alt="" /></a>
        <div class="video-desc">
          <h3 class="h2 text-white text-uppercase">
            Being unique is the preference
          </h3>
          <h4 class="text-white">Youtube video will appear in popover</h4>
        </div>
      </div>
    </div>
  </section>

  <!-- Start Video Area -->
  <!-- Start about Area -->
  <section class="section-gap info-area" id="about">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="menu-content pb-40 col-lg-8">
          <div class="title text-center">
            <h1 class="mb-10">Sobre nosotros</h1>
            <p>Who are in extremely love with eco friendly system.</p>
          </div>
        </div>
      </div>
      <div class="single-info row mt-40">
        <div class="col-lg-6 col-md-12 mt-120 text-center no-padding info-left">
          <div class="info-thumb">
            <img src="img/about-img.jpg" class="img-fluid" alt="" />
          </div>
        </div>
        <div class="col-lg-6 col-md-12 no-padding info-rigth">
          <div class="info-content">
            <h2 class="pb-30">
              We Realize that <br />
              there are reduced <br />
              Wastege Stand out
            </h2>
            <p>
              inappropriate behavior is often laughed off as ‚Äúboys will be
              boys,‚Äù women face higher conduct standards ‚Äì especially in the
              workplace. That‚Äôs why it‚Äôs crucial that, as women.
            </p>
            <br />
            <p>
              inappropriate behavior is often laughed off as ‚Äúboys will be
              boys,‚Äù women face higher conduct standards ‚Äì especially in the
              workplace. That‚Äôs why it‚Äôs crucial that, as women. inappropriate
              behavior is often laughed off as ‚Äúboys will be boys,‚Äù women face
              higher conduct standards ‚Äì especially in the workplace. That‚Äôs
              why it‚Äôs crucial that, as women.
            </p>
            <br />
            <p>
              inappropriate behavior is often laughed off as ‚Äúboys will be
              boys,‚Äù women face higher conduct standards ‚Äì especially in the
              workplace. That‚Äôs why it‚Äôs crucial that, as women.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End about Area -->
  <!-- Start logo Area -->
  <section class="logo-area">
    <div class="container">
      <div class="row"></div>
    </div>
  </section>
  <!-- End logo Area -->

  <!-- start contact Area -->
  <section class="contact-area section-gap" id="contact">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="menu-content pb-60 col-lg-8">
          <div class="title text-center">
            <h1 class="mb-10">Cont√°ctanos</h1>
            <p>bla bla bla</p>
          </div>
        </div>
      </div>
      <form class="form-area" id="myForm" action="mail.php" method="post" class="contact-form text-right">
        <div class="row">
          <div class="col-lg-6 form-group">
            <input name="name" placeholder="Nombre" onfocus="this.placeholder = ''"
              onblur="this.placeholder = 'Nombre'" class="common-input mb-20 form-control" required=""
              type="text" />

            <input name="email" placeholder="Correo electr√≥nico"
              pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$" onfocus="this.placeholder = ''"
              onblur="this.placeholder = 'Correo electr√≥nico'" class="common-input mb-20 form-control" required=""
              type="email" />

            <input name="subject" placeholder="Tema" onfocus="this.placeholder = ''"
              onblur="this.placeholder = 'Tema'" class="common-input mb-20 form-control" required=""
              type="text" />
          </div>
          <div class="col-lg-6 form-group">
            <textarea class="common-textarea mt-10 form-control" name="message" placeholder="Mensaje"
              onfocus="this.placeholder = ''" onblur="this.placeholder = 'Messege'" required=""></textarea>
            <button class="primary-btn mt-20">
              Enviar mensaje<span class="lnr lnr-arrow-right"></span>
            </button>
            <div class="alert-msg"></div>
          </div>
        </div>
      </form>
    </div>
  </section>
  <!-- end contact Area -->

  <!-- start footer Area -->
  <footer class="footer-area section-gap">
    <div class="container">
      <div class="row">
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget">
            <h6>About Us</h6>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore dolore magna aliqua.
            </p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            <p class="footer-text">
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved | This template is made with
              <i class="fa fa-heart-o" aria-hidden="true"></i> by
              <a href="https://colorlib.com" target="_blank">Colorlib</a>
            </p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          </div>
        </div>
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget">
            <h6>Newsletter</h6>
            <p>Stay update with our latest</p>
            <div class="" id="mc_embed_signup">
              <form target="_blank" novalidate="true"
                action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                method="get" class="form-inline">
                <div class="d-flex flex-row">
                  <input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''"
                    onblur="this.placeholder = 'Enter Email '" required="" type="email" />

                  <button class="click-btn btn btn-default">
                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                  </button>
                  <div style="position: absolute; left: -5000px">
                    <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text" />
                  </div>

                  <!-- <div class="col-lg-4 col-md-4">
												<button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
											</div>  -->
                </div>
                <div class="info"></div>
              </form>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-6 social-widget">
          <div class="single-footer-widget">
            <h6>Follow Us</h6>
            <p>Let us be social</p>
            <div class="footer-social d-flex align-items-center">
              <a href="#"><i class="fa fa-facebook"></i></a>
              <a href="#"><i class="fa fa-twitter"></i></a>
              <a href="#"><i class="fa fa-dribbble"></i></a>
              <a href="#"><i class="fa fa-behance"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- End footer Area -->

  <script src="js/vendor/jquery-2.2.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
    integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
  <script src="js/vendor/bootstrap.min.js"></script>
  <script src="js/jquery.ajaxchimp.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.sticky.js"></script>
  <script src="js/slick.js"></script>
  <script src="js/jquery.counterup.min.js"></script>
  <script src="js/waypoints.min.js"></script>
  <script src="js/main.js"></script>
</body>

</html>