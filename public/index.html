<!DOCTYPE html>
<html lang="es" class="no-js">

<head>
  <!-- Mobile Specific Meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Favicon-->
  <link rel="shortcut icon" href="/mallorca.svg" />
  <!-- Author Meta -->
  <meta name="author" content="7Maravillas" />  <!-- Meta Description -->
  <meta name="description" content="Descubre las 7 maravillas de Mallorca: Castillo de Bellver, Sa Calobra, Sa Foradada, La Catedral, Coves del Drach, Santuario de Cura. Una guía turística interactiva." />
  <!-- Meta Keyword -->
  <meta name="keywords" content="mallorca, turismo mallorca, 7 maravillas, castillo bellver, sa calobra, sa foradada, catedral palma, coves drach, santuario cura, baleares, islas baleares" /><!-- meta character set -->
  <meta charset="UTF-8" />
  <!-- Site Title -->
  <title>7 Maravillas de Mallorca</title>
  <!-- PWA Support -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#007bff">  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="7Mallorca">
  <link rel="apple-touch-icon" href="/mallorca.svg" type="image/svg+xml">
  <!-- Agregar un favicon para dispositivos iOS -->
  <link rel="icon" type="image/svg+xml" href="/mallorca.svg">
  <!-- CSS Propio -->
  <!-- <link rel="stylesheet" href="/css/searchbar.css" /> -->
  <!-- JS Propios -->
  <script defer src="/libs/maravillas_api.js"></script>
  <script defer src="/libs/lector_api.js"></script>
  <script defer src="/libs/geo_api.js"></script>
  <script defer src="/libs/forecast_api.js"></script>
  <script defer src="/components/maravilla_component.js"></script>
  <script defer src="/components/estrellas_component.js"></script>
  <script defer src="/components/lector_component.js"></script>
  <!-- Librerias externas -->
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
  <script defer src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
  <!-- JS files -->
  <script>function initializeOwlCarousel() {
      // Destruir cualquier instancia anterior de Owl Carousel en el contenedor
      $('.active-works-carousel').trigger('destroy.owl.carousel').removeClass('owl-loaded');

      // Re-inicializar el carousel
      $('.active-works-carousel').owlCarousel({
        items: 1, // o la configuración que necesites
        loop: true,
        margin: 10,
        nav: false,
        autoplay: true,
        autoplayTimeout: 5000,
        autoplayHoverPause: true
      });
    }
  </script>

  <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet" />  <!--
			CSS
			============================================= -->
  <!-- Preload critical resources -->
  <link rel="preload" href="/css/bootstrap.css" as="style" />
  <link rel="preload" href="/css/main.css" as="style" />
  <link rel="preload" href="/fonts/fontawesome-webfont.woff2" as="font" type="font/woff2" crossorigin />
			
  <link rel="stylesheet" href="/css/linearicons.css" />
  <link rel="stylesheet" href="/css/bootstrap.css" />
  <link rel="stylesheet" href="/css/magnific-popup.css" />
  <!-- <link rel="stylesheet" href="css/animate.min.css" /> -->  <link rel="stylesheet" href="/css/owl.carousel.css" />
  <link rel="stylesheet" href="/css/main.css" />
  <link rel="stylesheet" href="/css/accessibility.css" />
  <style>
    /* Fix for layout shifts */
    .item-slider {
      position: relative;
      height: 100vh;
      overflow: hidden;
    }
    
    /* Ensure search bar doesn't shift layout */
    .search-bar-container {
      min-height: 80px;
    }
    
    /* Prevent CLS for image loading */
    img {
      display: block;
    }
    
    /* Make sure areas reserved for content don't collapse */
    .section-gap {
      min-height: 200px;
    }
  </style>
</head>

<body>
  <!-- start banner Area -->
  <section class="banner-area" id="home">
    <!-- Start Header Area -->
    <header class="default-header">
      <nav class="navbar navbar-expand-lg navbar-light">        <div class="container">          <a class="navbar-brand" href="index.html">
            <svg height="40" width="40" role="img" aria-labelledby="logo-title">
              <title id="logo-title">Logo de 7 Maravillas de Mallorca</title>
              <image height="40" width="40" href="/mallorca.svg" />
            </svg>
            <h1 class="logo-text">7 Maravillas de Mallorca</h1>
          </a>          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Desplegar menú de navegación">
            <span class="text-white lnr lnr-menu" aria-hidden="true"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarSupportedContent">
            <ul class="navbar-nav">
              <li><a href="#home">Inicio</a></li>
              <li><a href="#about">Sobre Nosotros</a></li>
              <li><a href="#contact">Contacto</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- End Header Area -->
  </section>
  <section class="slider-wrapper">
    <!-- Search bar with autocomplete -->    <div class="search-bar-container">
      <div class="search-bar center">
        <label for="maravillas-input" class="sr-only">Buscar maravillas</label>
        <input type="text" id="maravillas-input" class="search-input" list="maravillas-list" placeholder="Buscar maravillas..." aria-label="Buscar maravillas" />
        <button class="search-button" aria-label="Buscar">
          <i class="fa fa-search" aria-hidden="true"></i>
        </button>
        <script>
          document.getElementById('maravillas-input').addEventListener('keyup', function (e) {
            if (e.key === 'Enter') {
              e.preventDefault();
              document.querySelector('.search-button').click();
            }
          });
        </script>
        
      </div>
      
      <div id="search_buttons">
        <button class="genric-btn" id="random-button">Aleatorio</button>
        <button class="genric-btn" id="nearby-button">Cercano</button>
      </div>
      <div id="suggestions" class="suggestions-container"></div>
    </div>
    <script>

      

      document.addEventListener('DOMContentLoaded', async function () {
        const searchInput = document.getElementById('maravillas-input');
        const suggestionsContainer = document.getElementById('suggestions');

        try {
          const maravillas = await getMaravillas(); // usando maravillas_api.js
          searchInput.addEventListener('input', function (e) {
            const value = e.target.value.toLowerCase();
            suggestionsContainer.innerHTML = '';

            if (value.length > 0) {
              const filteredMaravillas = maravillas.filter(maravilla =>
                maravilla.name.toLowerCase().includes(value)
              );

              if (filteredMaravillas.length > 0) {
                suggestionsContainer.style.display = 'block';
                filteredMaravillas.forEach(maravilla => {
                  const div = document.createElement('div');
                  div.className = 'suggestion-item';
                  div.textContent = maravilla.name;
                  div.addEventListener('click', () => {
                    searchInput.value = maravilla.name;
                    suggestionsContainer.style.display = 'none';
                  });
                  suggestionsContainer.appendChild(div);
                });
              } else {
                suggestionsContainer.style.display = 'none';
              }
            } else {
              suggestionsContainer.style.display = 'none';
            }
          });

          document.addEventListener('click', function (e) {
            if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
              suggestionsContainer.style.display = 'none';
            }
          });
        } catch (error) {
          console.error("Error cargando las maravillas:", error);
        }
      });

    </script>    <section class="default-banner active-blog-slider">
      <div class="item-slider relative">
        <img src="/castilloBellver/bellver1.webp" width="1920" height="1080" alt="Castillo de Bellver" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" fetchpriority="high" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Castillo de Bellver</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative">
        <img src="/saCalobra/calobra1.webp" width="1920" height="1080" alt="Sa Calobra" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Sa Calobra</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>      <div class="item-slider relative">
        <img src="/saForadada/foradada1.webp" width="1920" height="1080" alt="Sa Foradada" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Sa Foradada</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative">
        <img src="/catedralPalma/catedral1.webp" width="1920" height="1080" alt="La Catedral" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">La catedral</h1>
              </div>
            </div>
          </div>
        </div>
      </div>      <div class="item-slider relative">
        <img src="/covesDrach/drach1.webp" width="1920" height="1080" alt="Coves del Drach" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Coves del Drach</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="item-slider relative">
        <img src="/santuarioCura/cura1.webp" width="1920" height="1080" alt="Santuario de Cura" style="position: absolute; width: 100%; height: 100%; object-fit: cover;" loading="lazy" />
        <div class="overlay" style="background: rgba(0, 0, 0, 0.3)"></div>
        <div class="container">
          <div class="row fullscreen justify-content-center align-items-center">
            <div class="col-md-10 col-12">
              <div class="banner-content text-center">
                <h4 class="text-white mb-20 text-uppercase">
                  Descubre las maravillas de Mallorca
                </h4>
                <h1 class="text-uppercase text-white">Santuario de Cura</h1>
                <!-- <p class="text-white">texto opcional</p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </section>

  <!-- Start project Area -->

  </div>
  <section class="project-area section-gap" id="seccion-maravilla" style="visibility: hidden; display: none;">
  </section>

  <script>

    const searchInput = document.querySelector('.search-input');
    const searchButton = document.querySelector('.search-button');
    searchButton.addEventListener('click', async () => {
      const searchText = searchInput.value.trim();
      const seccionMaravilla = document.getElementById('seccion-maravilla');

      try {
        const maravilla = await getMaravillasByName(searchText);

        seccionMaravilla.style.visibility = 'visible';
        seccionMaravilla.style.display = 'block';
        seccionMaravilla.innerHTML = '';

        // Usamos la función reutilizable createMaravillaContainer
        const container = await createMaravillaContainer(maravilla);
        seccionMaravilla.appendChild(container);

        seccionMaravilla.scrollIntoView({ behavior: 'smooth' });
      } catch (error) {
        console.error("Error:", error);
        seccionMaravilla.innerHTML = '<div class="container"><div class="row"><div class="col text-center"><h2>Maravilla no encontrada</h2></div></div></div>';
      }
    });


    // Botón "Aleatorio"
    document.getElementById('random-button').addEventListener('click', async () => {
      const maravillas = await getMaravillas();
      const randomIndex = Math.floor(Math.random() * maravillas.length);
      const randomMaravilla = maravillas[randomIndex];

      const seccionMaravilla = document.getElementById('seccion-maravilla');
      seccionMaravilla.style.visibility = 'visible';
      seccionMaravilla.style.display = 'block';
      seccionMaravilla.innerHTML = '';

      // Usamos la función reutilizable createMaravillaContainer
      const container = await createMaravillaContainer(randomMaravilla);
      seccionMaravilla.appendChild(container);

      seccionMaravilla.scrollIntoView({ behavior: 'smooth' });
    });


    // Botón "Cercano"
    document.getElementById('nearby-button').addEventListener('click', async () => {

      // Pedimos la ubicación actual del usuario
      const location = await obtenerUbicacion(); // usando geo_api.js
      console.log(location);

      const maravillas = await getMaravillas();
      
      // Calculamos la distancia euclídea entre la maravilla seleccionada y mi ubicación
      let minDistancia = Infinity;
      let maravillaMasCercana = null;
      maravillas.forEach(maravilla => {
        const distancia = Math.sqrt(
          Math.pow(maravilla.geo.latitude - location.latitud, 2) +
          Math.pow(maravilla.geo.longitude - location.longitud, 2)
        );

        if (distancia < minDistancia) {
          minDistancia = distancia;
          maravillaMasCercana = maravilla;
        }

        
        
      });

      const seccionMaravilla = document.getElementById('seccion-maravilla');
      seccionMaravilla.style.visibility = 'visible';
      seccionMaravilla.style.display = 'block';
      seccionMaravilla.innerHTML = '';

      // Usamos la función reutilizable createMaravillaContainer
      const container = await createMaravillaContainer(maravillaMasCercana);
      seccionMaravilla.appendChild(container);

      seccionMaravilla.scrollIntoView({ behavior: 'smooth' });
    });
  </script>
  <!-- End project Area -->

  <!-- Start gallery Area -->
  <section class="gallery-area" id="gallery">
    <div class="container-fluid">
      <div class="row no-padding">
        <div class="active-gallery" id="contenedorFotosCarrousel">
          <!-- <div class="item single-gallery">
            <img src="img/g1.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g2.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g3.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g4.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g5.jpg" alt="" />
          </div>
          <div class="item single-gallery">
            <img src="img/g6.jpg" alt="" />
          </div> -->
        </div>
      </div>
    </div>
  </section>
 <!--  <style>/* Contenedor del carrusel */
    #contenedorFotosCarrousel .item.single-gallery {
      width: 100%;
      height: 300px; /* Ajusta el alto según lo que necesites */
      overflow: hidden;
    }
    
    /* Imágenes dentro del carrusel */
    #contenedorFotosCarrousel .item.single-gallery img {
      width: 100%;
      height: 100%;
      object-fit: cover; /* Recorta la imagen para llenar el espacio */
    }
    </style>


<script>
  // Función para barajar el array de imágenes
  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1)); // Índice aleatorio
      [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
    }
  } 
   async function cargarImagenes() {
    try {
      const maravillas = await getMaravillas(); // Espera a que los datos lleguen
      let contenedor = document.getElementById("contenedorFotosCarrousel");

      let imagenes = [];

      // Recoger todas las imágenes de todas las maravillas
      maravillas.forEach((maravilla) => {
        // Verifica si 'maravilla.image' es un array
        if (Array.isArray(maravilla.image)) {
          maravilla.image.forEach((imagenUrl) => {
            imagenes.push(imagenUrl); // Almacenar la URL de la imagen
          });
        } else {
          // Si 'maravilla.image' no es un array, verificar si es una cadena de texto (URL única)
          if (typeof maravilla.image === 'string') {
            imagenes.push(maravilla.image); // Almacenar la URL si es un string
          }
        }
      });

      // Mezclar las imágenes antes de agregarlas
      shuffle(imagenes);

      // Limpiar el contenedor antes de agregar las nuevas imágenes
      contenedor.innerHTML = "";

      // Añadir las imágenes mezcladas al contenedor
      imagenes.forEach((imagenUrl) => {
        let divFotoCarrousel = document.createElement("div");
        let divContenedor = document.createElement("div");
        divContenedor.className = "owl-item active";
        divFotoCarrousel.className = "item single-gallery";
        // divFotoCarrousel.className = "item single-gallery";        let img = document.createElement("img");
        img.src = imagenUrl;
        
        // Extract name from URL for better alt text
        const maravillaName = imagenUrl.split('/').slice(-2)[0];
        img.alt = "Imagen de " + maravillaName;
        
        // Add width and height to prevent layout shifts
        img.width = 800;
        img.height = 600;
        img.loading = "lazy";
        
        // Add style to ensure proper display while maintaining aspect ratio
        img.style.objectFit = "cover";
        img.style.width = "100%";
        img.style.height = "100%";

        divFotoCarrousel.appendChild(img);
        divContenedor.appendChild(divFotoCarrousel);
        contenedor.appendChild(divContenedor);
      });

    } catch (error) {
      console.error("Error al cargar las imágenes:", error);
    }
  }

  cargarImagenes(); // Llamar a la función para que se ejecute */ 
</script>  -->
  <!-- End gallery Area -->

  <!-- Start Video Area -->
  <section class="video-area pt-40 pb-40">
    <div class="overlay overlay-bg"></div>
    <div class="container">      <div class="video-content">
        <a href="https://www.youtube.com/watch?v=s_vnbWgnSSs" class="play-btn" aria-label="Ver video sobre Mallorca"><img src="img/play-btn.webp" alt="Botón de reproducción" width="72" height="72" loading="lazy" /></a>        <div class="video-desc">
          <h2 class="text-white text-uppercase">
            Mallorca, tierra de maravillas
          </h2>
          <h3 class="text-white">Haz click para descubrir Mallorca</h3>
        </div>
      </div>
    </div>
  </section>

  <!-- Start Video Area -->
  <!-- Start about Area -->
  <section class="section-gap info-area" id="about">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="menu-content pb-40 col-lg-8">
          <div class="title text-center">
            <h1 class="mb-10">Sobre nosotros</h1>
            <!-- <p>Who are in extremely love with eco friendly system.</p> -->
          </div>
        </div>
      </div>
      <div class="single-info row mt-40">        <div class="col-lg-6 col-md-12 mt-120 text-center no-padding info-left">
          <div class="info-thumb">
            <img src="/us.webp" class="img-fluid" alt="Foto del equipo de 7 Maravillas de Mallorca" width="600" height="400" loading="lazy" />
          </div>
        </div>
        <div class="col-lg-6 col-md-12 no-padding info-rigth">          <div class="info-content">
            <h3 class="pb-30">
              Por qué las <br />
              7 maravillas de <br />
              Mallorca?
            </h3>
            <p>
              Decidimos centrarnos en las 7 maravillas de Mallorca porque creemos que la isla tiene una riqueza natural y cultural que merece ser compartida con el mundo. Al destacar estos lugares emblemáticos, 
              buscamos no solo atraer a los turistas, sino también educar a los residentes y visitantes sobre la historia, la arquitectura y el patrimonio que hacen de Mallorca un destino único.
            </p>
            <br />
            <p>
              Mallorca es un destino turístico reconocido a nivel mundial, y al enfocarnos en sus maravillas, 
              queremos ofrecer a los visitantes una guía visual y educativa sobre los lugares más emblemáticos de la isla. 
            </p>
            <br />
            <p>
              Esta página web servirá como una ventana interactiva para que los usuarios exploren y descubran la belleza oculta de la isla,
              brindándoles una experiencia inmersiva que permite explorar distintos lugares turísticos.  
            </p>
            <br />
            <p>
              Plantilla: <a href="https://themewagon.github.io/adventure/"> ThemeWagon: adventure</a>  
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- End about Area -->
  <!-- Start logo Area -->
  <section class="logo-area">
    <div class="container">
      <div class="row"></div>
    </div>
  </section>
  <!-- End logo Area -->

  <!-- start contact Area -->
  <section class="contact-area section-gap" id="contact">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="menu-content pb-60 col-lg-8">
           <div class="title text-center" style="color: black;">
                <h1 class="mb-10">Contáctanos</h1>
                <p>¡Déjanos un mensaje para cualquier duda o sugerencia!</p>
                </div>
        </div>
      </div>
      <!-- Reemplaza el formulario de contacto por el siguiente código -->
<form class="form-area" id="myForm" action="php/contacto.php" method="post" class="contact-form text-right">
  <div class="row">
    <div class="col-lg-6 form-group">
      <label for="nombre" class="sr-only">Nombre</label>
      <input id="nombre" name="nombre" placeholder="Nombre" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Nombre'"
        class="common-input mb-20 form-control" required type="text" aria-required="true" />

      <label for="email" class="sr-only">Correo electrónico</label>
      <input id="email" name="email" placeholder="Correo electrónico"
        pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{1,63}$" onfocus="this.placeholder = ''"
        onblur="this.placeholder = 'Correo electrónico'" class="common-input mb-20 form-control" required type="email" aria-required="true" />

      <!-- Campo subject eliminado ya que no se utiliza en contacto.php -->
    </div>
    <div class="col-lg-6 form-group">
      <label for="mensaje" class="sr-only">Mensaje</label>
      <textarea id="mensaje" class="common-textarea mt-10 form-control" name="mensaje" placeholder="Mensaje"
        onfocus="this.placeholder = ''" onblur="this.placeholder = 'Mensaje'" required aria-required="true"></textarea>
      <button class="primary-btn mt-20" type="submit">
        Enviar mensaje<span class="lnr lnr-arrow-right" aria-hidden="true"></span>
      </button>
      <div class="alert-msg" role="alert"></div>
    </div>
  </div>
</form>

<script>
  // Intercepta el envío del formulario para enviar los datos vía fetch en formato JSON
  document.getElementById("myForm").addEventListener("submit", async function(e) {
      e.preventDefault();
      const form = e.target;
      const data = {
          nombre: form.nombre.value,
          email: form.email.value,
          mensaje: form.mensaje.value
      };

      try {
          const response = await fetch("/php/contacto.php", {
              method: "POST",
              headers: {
                  "Content-Type": "application/json"
              },
              body: JSON.stringify(data)
          });
          const result = await response.json();
          if (response.ok) {
              alert("Mensaje enviado con éxito");
              form.reset();
          } else {
              alert("Error: " + (result.error || "Error al enviar el mensaje"));
          }
      } catch (error) {
          console.error(error);
          alert("Error al enviar el mensaje");
      }
  });
</script>
    </div>
  </section>
  <!-- end contact Area -->

  <!-- start footer Area -->
  <footer class="footer-area section-gap">
    <div class="container">
      <div class="row">
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget" style="color: white;">
            <h6>About Us</h6>
            <p>
              Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
              eiusmod tempor incididunt ut labore dolore magna aliqua.
            </p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            <p class="footer-text">
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved | This template is made with
              <i class="fa fa-heart-o" aria-hidden="true"></i> by
              <a href="https://colorlib.com" target="_blank">Colorlib</a>
            </p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
          </div>
        </div>
        <div class="col-lg-5 col-md-6 col-sm-6">
          <div class="single-footer-widget">
            <h6>Newsletter</h6>
            <p>Stay update with our latest</p>
            <div class="" id="mc_embed_signup">
              <form id="newsletterForm" action="php/newsletter.php" method="post" class="form-inline">
                <div class="d-flex flex-row">
                  <label for="newsletter-email" class="sr-only">Correo electrónico</label>
                  <input id="newsletter-email" class="form-control" name="email" placeholder="Tu email" onfocus="this.placeholder = ''"
                    onblur="this.placeholder = 'Tu email'" required type="email" aria-required="true" />
                  
                  <button type="submit" class="click-btn btn btn-default" aria-label="Suscribirse">
                    <i class="fa fa-long-arrow-right" aria-hidden="true"></i>
                  </button>
                </div>
                <div class="info mt-2" role="alert"></div>
              </form>

              <script>
              document.getElementById("newsletterForm").addEventListener("submit", async function(e) {
                e.preventDefault();
                const form = e.target;
                const email = form.email.value;
                const infoDiv = form.querySelector('.info');
                
                try {
                  const response = await fetch("/php/newsletter.php", {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json"
                    },
                    body: JSON.stringify({ email })
                  });
                  
                  const result = await response.json();
                  if (response.ok) {
                    infoDiv.innerHTML = '<div class="alert alert-success">¡Gracias por suscribirte!</div>';
                    alert("¡Gracias por suscribirte!");
                    form.reset();
                  } else {
                    alert("Error: " + (result.error || "No se pudo completar la suscripción"));
                    infoDiv.innerHTML = '<div class="alert alert-danger">Error: ' + (result.error || "No se pudo completar la suscripción") + '</div>';
                  }
                } catch (error) {
                  console.error(error);
                  infoDiv.innerHTML = '<div class="alert alert-danger">Error al procesar la solicitud</div>';
                }
              });
              </script>
            </div>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 col-sm-6 social-widget">
          <div class="single-footer-widget">
            <h6>Follow Us</h6>
            <p>Let us be social</p>            <div class="footer-social d-flex align-items-center">
              <a href="#" aria-label="Facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a>
              <a href="#" aria-label="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a>
              <a href="#" aria-label="Dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i></a>
              <a href="#" aria-label="Behance"><i class="fa fa-behance" aria-hidden="true"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <!-- End footer Area -->  <script src="js/preload.js" defer></script>
  <script src="js/lazy-load.js" defer></script>
  <script src="js/vendor/jquery-2.2.4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
    integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
  <script src="js/vendor/bootstrap.min.js" defer></script>
  <script src="js/jquery.ajaxchimp.min.js" defer></script>
  <script src="js/jquery.magnific-popup.min.js" defer></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.sticky.js" defer></script>
  <script src="js/slick.js" defer></script>
  <script src="js/jquery.counterup.min.js" defer></script>
  <script src="js/waypoints.min.js" defer></script>
  <script src="js/main.js" defer></script>
  <script>
    // Registrar Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
          .then(function(registration) {
            console.log('Service Worker registrado con éxito:', registration.scope);
          })
          .catch(function(error) {
            console.log('Error al registrar Service Worker:', error);
          });
      });
    }
  </script>
</body>

</html>